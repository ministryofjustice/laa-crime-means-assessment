Feature: Stateless API Demo
  Demo of steps for Stateless API

  Scenario Outline: Full Assessment - case type "Indicatable" - examples
    Given The applicant details
      | caseType   | hasAPartner   |  frequency   | income   | outgoings   |
      | <caseType> | <hasAPartner> |  <frequency> | <income> | <outgoings> |
    And children with ages
      | 0-1   | 2-4  | 5-7  | 8-10  | 11-12  | 13-15  | 16-18  |
      | <0-1> |<2-4> |<5-7> |<8-10> |<11-12> |<13-15> |<16-18> |
    When I call the stateless CMA endpoint
    Then I expect the result to be
      | imaResult   | grossIncome   | fmaResult   | fmaReason   | adjustedLivingAllowance   | totalAggregatedExpense   | totalAnnualDisposableIncome   |
      | <imaResult> | <grossIncome> | <fmaResult> | <fmaReason> | <adjustedLivingAllowance> | <totalAggregatedExpense> | <totalAnnualDisposableIncome> |
    Examples:
      | description                                     | hasAPartner | frequency | income  | outgoings | 0-1 | 2-4 | 5-7 | 8-10 | 11-12 | 13-15 | 16-18 | imaResult | fmaResult | fmaReason                             | caseType   | grossIncome | housingCostsTotal | expenditureTotal | totalAggregatedExpense | totalAnnualDisposableIncome | adjustedLivingAllowance |
      | 63 Pass Full Means + PAI Pass Full Means        | false       | MONTHLY   | 1800.00 | 1800.00   | 0   | 0   | 0   | 0    | 0     | 0     | 0     | FULL      | PASS      | Disposable income below the threshold | INDICTABLE | 21480.00    | 21480.00          | 21480.00         | 27276.00             | -5676.00                    | 5676.00                 |
      | 64 Fail Initial Means + PAI Pass Full Means     | true        | ANNUALLY  | 60000.00| 20000.00  | 0   | 0   | 0   | 0    | 1     | 0     | 0     | FAIL      | FAIL      | Disposable income above the threshold | INDICTABLE | 21480.00    | 21480.00          | 21480.00         | 31635.80             | 28364.20                    | 11635.80                |

#      | 65 Fail Full Means + PAI Pass Full Means        | false       | MONTHLY   | 1800.00 | 1800.00   | 0   | 0   | 0   | 0    | 0     | 0     | 0     | FULL      | FAIL      | Disposable income below the threshold | INDICTABLE | 21480.00    | 21480.00          | 21480.00         | 27156.00             | -5676.00                    | 5676.00                 |
#      | 67 Pass Full Means + PAI Fail Initial Means     | false       | MONTHLY   | 1476.00 | 1476.00   | 0   | 0   | 0   | 0    | 0     | 0     | 0     | FULL      | PASS      | Disposable income above the threshold | INDICTABLE | 35880.00    | 0.00              | 0.00             | 5676.00              | 30204.00                    | 5676.00                 |
#      | 68 Fail Initial Means + PAI Fail Initial Means  | true        | MONTHLY   |         |           | 0   | 0   | 0   | 0    | 0     | 0     | 0     | FAIL      | FAIL      | Disposable income above the threshold | INDICTABLE | 35880.00    | 0.00              | 0.00             | 9308.64              | 26571.36                    | 9308.64                 |
#      | 69 Fail Full Means + PAI Fail Initial Means     | false       | MONTHLY   | 1476.00 | 1476.00   | 1   | 0   | 0   | 0    | 0     | 0     | 0     | FULL      | FAIL      | Disposable income above the threshold | INDICTABLE | 35880.00    | 10000.00          | 10000.00         | 15676.00             | 20204.00                    | 5676.00                 |
#      | 71 Pass Full Means + PAI Fail Full Means        | false       | MONTHLY   |         |           | 0   | 0   | 0   | 0    | 0     | 0     | 0     | FULL      | PASS      | Disposable income above the threshold | INDICTABLE | 21480.00    | 540.00            | 540.00           | 6216.00              | 15264.00                    | 5676.00                 |
#      | 72 Fail Initial Means + PAI Fail Full Means     | true        | MONTHLY   | 1476.00 | 1476.00   | 0   | 0   | 0   | 0    | 0     | 0     | 0     | FAIL      | FAIL      | Disposable income above the threshold | INDICTABLE | 21480.00    | 885.60            | 885.60           | 10194.24             | 11285.76                    | 9308.64                 |
#      | 73 Fail Full Means + PAI Fail Full Means        | false       | MONTHLY   | 1476.00 | 1476.00   |0   | 0   | 0   | 0    | 0     | 0     | 0     | FULL      | FAIL      | Disposable income above the threshold | INDICTABLE | 21480.00    | 540.00            | 540.00           | 6216.00              | 15264.00                    | 5676.00                 |
#      | 79 Pass Full Means + CIFC Pass Full Means       | false       | MONTHLY   |         |           |1   | 0   | 0   | 0    | 0     | 0     | 0     | FULL      | PASS      | Disposable income below the threshold | INDICTABLE | 21468.00    | 21468.00          | 21468.00         | 27144.00             | -5676.00                    | 5676.00                 |
#      | 80 Fail Initial Means + CIFC Pass Full Means    | true        | MONTHLY   | 1611.00 | 1611.00   |1   | 0   | 0   | 0    | 0     | 0     | 0     | FAIL      | FAIL      | Disposable income below the threshold | INDICTABLE | 35927.52    | 35927.52          | 35927.52         | 45236.16             | -9308.64                    | 9308.64                 |
#      | 81 Fail Full Means + CIFC Pass Full Means       | false       | MONTHLY   | 1800.00 | 1800.00   |0   | 0   | 0   | 0    | 0     | 0     | 0     | FULL      | FAIL      | Disposable income below the threshold | INDICTABLE | 21468.00    | 21468.00          | 21468.00         | 27144.00             | -5676.00                    | 5676.00                 |
#      | 83 Pass Full Means + CIFC Fail Initial Means    | false       | MONTHLY   | 1476.00 | 1476.00   |0   | 0   | 0   | 0    | 0     | 0     | 0     | FULL      | PASS      | Disposable income above the threshold | INDICTABLE | 35868.00    | 0.00              | 0.00             | 5676.00              | 30192.00                    | 5676.00                 |
#      | 84 Fail Initial Means + CIFC Fail Initial Means | true        | MONTHLY   |         |           |1   | 0   | 0   | 0    | 0     | 0     | 0     | FAIL      | FAIL      | Disposable income above the threshold | INDICTABLE | 35868.00    | 0.00              | 0.00             | 9308.64              | 26559.36                    | 9308.64                 |
#      | 85 Fail Full Means + CIFC Fail Initial Means    | false       | MONTHLY   | 1476.00 | 1476.00   |0   | 0   | 0   | 0    | 0     | 0     | 0     | FAIL      | FAIL      | Disposable income above the threshold | INDICTABLE | 35868.00    | 0.00              | 0.00             | 5676.00              | 30192.00                    | 5676.00                 |
#      | 87 Pass Full Means + CIFC Fail Full Means       | false       | MONTHLY   |         |           |0   | 0   | 0   | 0    | 0     | 0     | 0     | FULL      | PASS      | Disposable income above the threshold | INDICTABLE | 21468.00    | 540.00            | 540.00           | 6216.00              | 15252.00                    | 5676.00                 |
#      | 88 Fail Initial Means + CIFC Fail Full Means    | true        | MONTHLY   | 1476.00 | 1476.00   |0   | 0   | 0   | 0    | 0     | 0     | 0     | FAIL      | FAIL      | Disposable income above the threshold | INDICTABLE | 35963.52    | 885.60            | 885.60           | 10194.24             | 25769.28                    | 9308.64                 |
#      | 89 Fail Full Means + CIFC Fail Full Means       | false       | MONTHLY   | 1476.00 | 1476.00   | 1   | 0   | 0   | 0    | 0     | 0     | 0     | FULL      | FAIL      | Disposable income above the threshold | INDICTABLE | 21468.00    | 540.00            | 540.00           | 6216.00              | 15252.00                    | 5676.00                 |
